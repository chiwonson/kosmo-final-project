<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Register</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-image: url('/images/img_cardset_05.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .form-container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.8);
        }
        div {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .address-button {
            background-color: rgba(0, 123, 255, 0.8); /* 반투명 배경색 */
        }
        .address-button:hover {
            background-color: rgba(0, 86, 179, 0.8); /* hover 시 색상 */
        }
    </style>
    <script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
    <script>
        function searchAddress() {
            console.log("주소 검색 버튼 클릭됨"); // 버튼 클릭 로그
            new daum.Postcode({
                oncomplete: function(data) {
                    var roadAddr = data.roadAddress; // 도로명 주소
                    var jibunAddr = data.jibunAddress; // 지번 주소
                    console.log("주소 검색 완료:", roadAddr ? roadAddr : jibunAddr); // 주소 검색 결과 로그
                    document.getElementById('maddr').value = roadAddr ? roadAddr : jibunAddr;
                }
            }).open();
        }

        function logFormData() {
            console.log("아이디:", document.getElementById('mid').value);
            console.log("비밀번호:", document.getElementById('mpw').value);
            console.log("이름:", document.getElementById('mname').value);
            console.log("닉네임:", document.getElementById('mnick').value);
            console.log("사진:", document.getElementById('mphoto').value);
            console.log("전화번호:", document.getElementById('mhp').value);
            console.log("이메일:", document.getElementById('memail').value);
            console.log("주소:", document.getElementById('maddr').value);
        }
    </script>
</head>
<body>
    <div class="form-container">
        <h1>Bread Tour 회원가입</h1>
        <form action="#" th:action="@{/register}" th:object="${user}" method="post">
            <div>
                <label for="mid">아이디:</label>
                <input type="text" id="mid" th:field="*{mid}" required />
            </div>
            <div>
                <label for="mpw">비밀번호:</label>
                <input type="password" id="mpw" th:field="*{mpw}" required />
            </div>
            <div>
                <label for="mname">이름:</label>
                <input type="text" id="mname" th:field="*{mname}" required />
            </div>
            <div>
                <label for="mnick">닉네임:</label>
                <input type="text" id="mnick" th:field="*{mnick}" />
            </div>
            <div>
                <label for="mphoto">사진:</label>
                <input type="text" id="mphoto" th:field="*{mphoto}" />
            </div>
            <div>
                <label for="mhp">전화번호:</label>
                <input type="text" id="mhp" th:field="*{mhp}" />
            </div>
            <div>
                <label for="memail">이메일:</label>
                <input type="email" id="memail" th:field="*{memail}" />
            </div>
            <div>
                <label for="maddr">주소:</label>
                <input type="text" id="maddr" th:field="*{maddr}" />
                <button type="button" class="address-button" onclick="searchAddress()">주소 검색</button>
            </div>
            <div>
                <button type="submit">가입하기</button>
            </div>
        </form>
    </div>
</body>
</html>
